# ⚙️ مجلد API — نظام تحليل البيانات العام (GDIF)

هذا المجلد يحتوي على جميع ملفات وأدوات بناء واجهة برمجة التطبيقات (API) الخاصة بمشروع GDIF.

الهدف هو تنظيم الخدمات، الأدوات المساعدة، التهيئة، والتوثيق، ليكون النظام متماسكًا، مرنًا، وقابلًا للصيانة والتطوير المستقبلي.

---

## 📂 محتويات المجلد

| المجلد / الملف              | الوصف                                                                                      |
|----------------------------|--------------------------------------------------------------------------------------------|
| `services/`                | خدمات الأعمال الأساسية: معالجة البيانات (ETL)، التحليل، توليد التقارير، وغيرها              |
| `utils/`                   | أدوات مساعدة: التوثيق، إدارة الاستثناءات، الإعدادات، تسجيل الدخول، تبعيات مشتركه، الخ      |
| `api.py`                   | نقطة إنشاء تطبيق FastAPI، إضافة الراوترات والإعدادات العامة                               |
| `main.py` (اختياري)        | نقطة تشغيل التطبيق، يمكن استبدالها أو الاستغناء عنها حسب بنية المشروع                      |
| `tests/`                   | اختبارات الوحدة والدمج للـ API باستخدام pytest و httpx أو requests                         |
| `README.md`                | توثيق خاص بمجلد API لشرح هيكل المشروع ووظائف الملفات والمجلدات                           |

---

## 🛠️ الخدمات الأساسية (`services/`)

- **etl_service.py:** تنفيذ عمليات الاستخراج، التحويل، والتحميل (ETL) للبيانات  
- **analysis_service.py:** خدمات التحليل الإحصائي، التجميع، النمذجة  
- **reports_service.py:** توليد تقارير متعددة الصيغ (HTML, PDF, Excel)  
- خدمات أخرى يمكن إضافتها حسب الحاجة

---

## 🔧 الأدوات المساعدة (`utils/`)

- **auth.py:** إدارة التوثيق (JWT, OAuth2, API Keys)  
- **config.py:** إعدادات عامة مثل CORS، حدود الطلبات (rate limiting)، وغيرها  
- **dependencies.py:** تبعيات مشتركة (جلسات قاعدة البيانات، المستخدم الحالي، الحدود الزمنية)  
- **exceptions.py:** إدارة الأخطاء وردود موحدة للنظام  
- **logger.py:** إعدادات وأنظمة تسجيل الدخول (logging) الخاصة بالـ API  
- أدوات أخرى لدعم الوظائف العامة (تحميل البيانات، رسم الرسوم البيانية، الخ)

---

## 🚀 تشغيل التطبيق

- **api.py** يحتوي على إنشاء كائن `FastAPI` وإضافة الراوترات والتبعيات العامة  
- لتشغيل التطبيق:  

```bash
uvicorn api.api:app --reload
